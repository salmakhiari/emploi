<div class="row">
    <!-- Column -->

    <!-- Column -->
    <!-- Column -->
    <div class="col-lg-12 col-xlg-9 col-md-7">
        <div class="card">
            <ngb-tabset type="pills" class="custom-pills">
              <ngb-tab title="Profil">
                <ng-template ngbTabContent>
                  <div class="card-body">
                    <form class="form-horizontal form-material"
                          #f="ngForm" (ngSubmit)="f.form.valid && update()">

                      <div class="form-group row " *ngxPermissionsOnly="['ROLE_CANDIDAT']">
                        <label class="col-md-12">CIN</label>
                        <div class="col-12 ">
                          <input class="form-control form-control-lg" type="text" required placeholder="CIN"
                                 pKeyFilter="pnum" minlength="8" maxlength="8"
                                 [(ngModel)]="user.cin" name="cin" #cin="ngModel">
                        </div>
                        <div class="col-12 form-text text-danger" *ngIf="f.submitted && cin.invalid">
                          <div *ngIf="nom.errors['required']">
                            CIN obligatoire
                          </div>
                          <div *ngIf="cin.errors['minlength']">
                            CIN doit contenir 8 chiffres
                          </div>
                        </div>
                      </div>



                      <div class="form-group row " *ngxPermissionsOnly="['ROLE_CANDIDAT']">
                        <label class="col-md-12">Nom Et prénom</label>
                        <div class="col-12 ">
                          <input class="form-control form-control-lg" type="text" required placeholder="Nom"

                                 [(ngModel)]="user.nomPrenom" name="nom" #nom="ngModel">
                        </div>
                        <div class="col-12 form-text text-danger" *ngIf="f.submitted && nom.invalid">
                          <div *ngIf="nom.errors['required']">
                            Nom Et Prénom obligatoire
                          </div>

                        </div>
                      </div>


                      <div class="form-group row " *ngxPermissionsOnly="['ROLE_CANDIDAT']">
                        <label class="col-md-12">Date de naissance</label>
                        <div class="col-12 ">
                          <input class="form-control form-control-lg" type="date" required placeholder="Nom"
                                 pKeyFilter="alpha"
                                 [(ngModel)]="user.dateNaissance" name="date" #date="ngModel">
                        </div>
                        <div class="col-12 form-text text-danger" *ngIf="f.submitted && date.invalid">
                          <div *ngIf="date.errors['required']">
                          Date de naissance
                          </div>

                        </div>
                      </div>


                      <div class="form-group row "  *ngxPermissionsOnly="['ROLE_ENTREPRISE']">
                        <label class="col-md-12">Raison social</label>
                        <div class="col-12 ">
                          <input class="form-control form-control-lg" type="text" required placeholder="Raison social"
                                 pKeyFilter="alpha"
                                 [(ngModel)]="user.nomEntreprise" name="raison" #prenom="ngModel">
                        </div>
                        <div class="col-12 form-text text-danger" *ngIf="f.submitted && prenom.invalid">
                          <div *ngIf="prenom.errors['required']">
                            Raison social obligatoire
                          </div>

                        </div>
                      </div>


                      <div class="form-group row ">
                        <label class="col-md-12">Téléphone</label>
                        <div class="col-12 ">
                          <input class="form-control form-control-lg" type="text" required  placeholder="Téléphone"
                                 pKeyFilter="pnum"
                                 [(ngModel)]="user.tel" name="tel" #tel="ngModel" maxlength="8" minlength="8">
                        </div>
                        <div class="col-12 form-text text-danger" *ngIf="f.submitted && tel.invalid">
                          <div *ngIf="tel.errors['required']">
                            Téléphone obligatoire
                          </div>

                          <div *ngIf="tel.errors['minlength']">
                            Téléphone doit contenir 8 chiffres
                          </div>


                        </div>
                      </div>


                      <div class="form-group row ">
                        <label class="col-md-12">Adresse</label>
                        <div class="col-12 ">
                          <input class="form-control form-control-lg" type="text" required  placeholder="Adresse"
                                 [(ngModel)]="user.adresse" name="adresse" #adresse="ngModel">
                        </div>
                        <div class="col-12 form-text text-danger" *ngIf="f.submitted && adresse.invalid">
                          <div *ngIf="adresse.errors['required']">
                            Adresse obligatoire
                          </div>


                        </div>
                      </div>


                      <div class="form-group row ">
                        <label class="col-md-12">Email</label>
                        <div class="col-12 ">
                          <input class="form-control form-control-lg" type="email" required email placeholder="Email"
                                 pKeyFilter="email"
                                 [(ngModel)]="user.email" name="email" #email="ngModel">
                        </div>
                        <div class="col-12 form-text text-danger" *ngIf="f.submitted && email.invalid">
                          <div *ngIf="email.errors['required']">
                            Email obligatoire
                          </div>
                          <div *ngIf="email.errors['email']">
                            Email invalid
                          </div>

                        </div>
                      </div>


                      <div class="form-group row ">
                        <label class="col-md-12">Image</label>
                        <div class="col-12 ">
                          <div class="custom-file">
                            <input class="custom-file-input"
                                   (change)="selectFile($event)"
                                   accept='image/*'
                                   id="inputGroupFile03" type="file"><label
                            class="custom-file-label" for="inputGroupFile03">{{chooseFile}}</label></div>
                        </div>
                      </div>




                      <div class="form-group">
                        <div class="col-sm-12">
                          <button class="btn btn-success" type="submit">Modifier Profil</button>
                        </div>
                      </div>
                    </form>
                  </div>
                </ng-template>
              </ngb-tab>
                     <!--       ******************************-->
              <ngb-tab title="Sécurité">
                <ng-template ngbTabContent>
                  <div class="card-body">
                    <form class="form-horizontal form-material"
                          #f="ngForm" (ngSubmit)="f.form.valid && changePassword(f)">
                      <div class="form-group">
                        <label class="col-md-12">Ancien mot de passe</label>
                        <div class="col-md-12">

                          <input type="password"  class="form-control form-control-line"
                                 name="oldPassword" [(ngModel)]="pwd.oldPassword" #oldPassword="ngModel" required>
                        </div>
                        <div class="col-12 form-text text-danger" *ngIf="f.submitted && oldPassword.invalid">
                          <div *ngIf="oldPassword.errors['required']">
                            Ancien mot de passe obligatoire
                          </div>

                        </div>
                      </div>
                      <div class="form-group">
                        <label  class="col-md-12">Nouveau mot de passe</label>
                        <div class="col-md-12">
                          <input type="password"  class="form-control form-control-line"
                                 name="newPassword"
                                 [(ngModel)]="pwd.newPassword" #newPassword="ngModel" required>
                        </div>
                        <div class="col-12 form-text text-danger" *ngIf="f.submitted && newPassword.invalid">
                          <div *ngIf="newPassword.errors['required']">
                            Nouveau mot de passe obligatoire
                          </div>
                      </div>
                      </div>
                      <div class="form-group">
                        <label class="col-md-12">Confirmer nouveau mot de passe</label>
                        <div class="col-md-12">
                          <input type="password" value="password" class="form-control form-control-line"  name="confirmPassword"
                                 [(ngModel)]="pwd.confirmPassword" #confirmPassword="ngModel" required pattern="{{newPassword.value}}">
                        </div>
                        <div class="col-12 form-text text-danger" *ngIf="f.submitted && confirmPassword.invalid">
                          <div *ngIf="confirmPassword.errors['required']">
                            Confirmation nouveau mot de passe obligatoire
                          </div>
                          <div *ngIf="confirmPassword.errors['pattern']">
                           Les mots de passe ne sont pas identiques
                          </div>
                      </div>
                      </div>

                      <div class="form-group">
                        <div class="col-sm-12">
                          <button class="btn btn-success"  type="submit ">Changer mot de passe</button>
                        </div>
                      </div>
                    </form>
                  </div>
                </ng-template>
              </ngb-tab>


            </ngb-tabset>
        </div>
    </div>
    <!-- Column -->
</div>
